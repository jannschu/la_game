<!DOCTYPE html>
<html lang="de">
<head>
  <!--
   - This file is part of La Game.
   - Copyright 2009 Shahriar Heidrich and Jannik Schürg
   - 
   - La Game is free software: you can redistribute it and/or modify
   - it under the terms of the GNU General Public License as published by
   - the Free Software Foundation, either version 3 of the License, or
   - (at your option) any later version.
   - 
   - La Game is distributed in the hope that it will be useful,
   - but WITHOUT ANY WARRANTY; without even the implied warranty of
   - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   - GNU General Public License for more details.
   - 
   - You should have received a copy of the GNU General Public License
   - along with La Game.  If not, see <http://www.gnu.org/licenses/>. 
  -->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="style.css" type="text/css">
  <script type="text/javascript" src="lagame.tools.js"></script>
  <script type="text/javascript" src="lagame.gui.js"></script>
  <script type="text/javascript" src="lagame.player.js"></script>
  <script type="text/javascript" src="lagame.logic.js"></script>
  <script type="text/javascript">
    function newGame() {
      var playerLabel = document.getElementById('currentPlayer');
      var nextPlayer = document.getElementById('nextPlayer');
      var canvas = document.getElementById('laGameCanvas');
      
      var gui = new LaGameGUI(canvas, playerLabel, nextPlayer);
      var logic = new LaGameLogic(gui, LaGamePlayer, LaGamePlayer);
      
      gui.setPlayerLabel('Spieler 1 beginnt', 0);
      gui.setCanFinishTurn(false);
      
      document.getElementById('nextPlayer').addEventListener('click', function() {
        logic.finishTurn();
      }, false)
      
      logic.initializeGame();
    }
    
    window.onload = function() {
      document.getElementById('newGame').addEventListener('click', function() {
        if (window.confirm('Wirklich das Spiel neustarten?'))
          newGame();
      }, false);
      newGame();
    }
  </script>
  <title>La Game</title>
</head>
<body>
  <h1>La Game</h1>
  <p>Das L-Spiel in JavaScript/Canvas.</p>
  <canvas width="400" height="400" id="laGameCanvas"></canvas>
  <fieldset>
    <legend>Spiel</legend>
    <select name="versusMode" id="versusMode">
      <option value="">Mensch gegen Mensch</option>
    </select>
    <input type="button" name="newGame" value="Neues Spiel" id="newGame">
    <input type="button" name="nextPlayer" value="Nächster Spieler" id="nextPlayer">
    <p id="gameInfo">
      <strong id="currentPlayer">Spieler 1 beginnt</strong>. Wähle die Steine per 
      <code>Klick</code> aus. N-Steine kannst du wieder per Klick setzen und L-Steine
      mit der Maus an die gewünschte Stelle ziehen. Wenn du den falschen N-Stein
      ausgesucht hast, kannst du deine Auswahl mit <code>ESC</code> ändern.
    </p>
  </fieldset>
  <p id="author">Shahriar M. Heidrich und Jannik Schürg (2009)</p>
</body>
</html>
