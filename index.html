<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="style.css" type="text/css">
  <script type="text/javascript" src="lagame.tools.js"></script>
  <script type="text/javascript" src="lagame.gui.js"></script>
  <script type="text/javascript" src="lagame.player.js"></script>
  <script type="text/javascript" src="lagame.logic.js"></script>
  <script type="text/javascript">
    window.onload = function() {
      document.getElementById('newGame').addEventListener('click', function() {
        return window.confirm('Wirklich das Spiel neustarten?');
      }, false);
      
      var playerLabel = document.getElementById('currentPlayer');
      var nextPlayer = document.getElementById('nextPlayer');
      var canvas = document.getElementById('laGameCanvas');
      
      var gui = new LaGameGUI(canvas, playerLabel, nextPlayer);
      var logic = new LaGameLogic(gui, LaGamePlayer, LaGamePlayer);
      
      gui.setPlayerLabel('Spieler 1 beginnt', 0);
      gui.setCanFinishTurn(false);
      
      document.getElementById('nextPlayer').addEventListener('click', function() {
        logic.finishTurn();
      }, false)
      
      logic.initializeGame();
      
      alert (logic.hasWon())
    }
  </script>
  <title>La Game</title>
</head>
<body>
  <h1>La Game</h1>
  <p>Das L-Spiel in JavaScript/Canvas.</p>
  <canvas width="400" height="400" id="laGameCanvas"></canvas>
  <fieldset>
    <legend>Spiel</legend>
    <select name="versusMode" id="versusMode">
      <option value="">Mensch gegen Mensch</option>
    </select>
    <input type="button" name="newGame" value="Neues Spiel" id="newGame">
    <input type="button" name="nextPlayer" value="Nächster Spieler" id="nextPlayer">
    <p id="gameInfo">
      <strong id="currentPlayer">Spieler 1 beginnt</strong>. Wähle die Steine per 
      <code>Klick</code> aus, bewege sie mit den <code>Pfeiltasten</code> und platziere den Stein mit <code>Enter</code>.
      Die <code>Leertaste</code> kannst du benutzen um Steine zu drehen.
      Die Taste <code>B</code> dreht den Stein horizontal und <code>V</code> vertikal.
    </p>
  </fieldset>
</body>
</html>
